. "$GRIMOIRE/FUNCTIONS" &&

depends ninja-build-system &&
depends meson &&
depends cairo       &&
depends expat       &&
depends fontconfig  &&
depends freetype2   &&
depends fribidi     &&
depends glib2       &&
depends -sub GLIB2 harfbuzz &&
depends libpng      &&
depends MESA     &&
depends pcre        &&
depends pixman      &&
depends python      &&

optional_depends libxft "" "" "for XFT and X11 support" &&

if is_depends_enabled $SPELL libxft; then
  depends libpthread-stubs &&
  depends libx11      &&
  depends libxau      &&
  depends libxcb      &&
  depends libxdmcp    &&
  depends libxext     &&
  depends libxrender  &&
  if spell_ok cairo && is_version_less $(installed_version cairo) 1.8; then
    force_depends cairo
  fi
fi &&

optional_depends gtk-doc "enable_docs=true" "enable_docs=false" \
                         "to build documentation with gtk-doc"  &&

optional_depends gobject-introspection "gir=true" "gir=false"    \
                                       "to enable introspection"
