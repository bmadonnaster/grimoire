From 62a2934c0ab6c42979efa37fc28f267aa86f7d97 Mon Sep 17 00:00:00 2001
From: Treeve Jelbert <treeve@sourcemage.org>
Date: Mon, 9 May 2011 21:06:05 +0200
Subject: [PATCH 1/2] fix config tests for firebird fix linking with firebird
 it also use -lpthread now

firebird uses libtommath
---
 config.tests/unix/ibase/ibase.pro     | 1 +
 src/plugins/sqldrivers/configure.json | 5 +++--
 2 files changed, 4 insertions(+), 2 deletions(-)

diff --git a/config.tests/unix/ibase/ibase.pro b/config.tests/unix/ibase/ibase.pro
index 8c47f66954..2c165a25ad 100644
--- a/config.tests/unix/ibase/ibase.pro
+++ b/config.tests/unix/ibase/ibase.pro
@@ -1,2 +1,3 @@
 SOURCES = ibase.cpp
 CONFIG -= qt dylib
+LIBS += -lfbclient -ltommath -lpthread
diff --git a/src/plugins/sqldrivers/configure.json b/src/plugins/sqldrivers/configure.json
index 5603ceb37b..18c03f5354 100644
--- a/src/plugins/sqldrivers/configure.json
+++ b/src/plugins/sqldrivers/configure.json
@@ -16,7 +16,8 @@
             "psql_config": "string",
             "sqlite": { "type": "enum", "name": "system-sqlite", "values": { "qt": "no", "system": "yes" } },
             "sql-db2": "boolean",
-            "sql-ibase": "boolean",
+            "sql-
+ibase": "boolean",
             "sql-mysql": "boolean",
             "sql-oci": "boolean",
             "sql-odbc": "boolean",
@@ -50,7 +51,7 @@
             "test": "unix/ibase",
             "sources": [
                 { "libs": "-lgds32_ms", "condition": "config.win32" },
-                { "libs": "-lgds", "condition": "!config.win32" }
+                { "libs": "-lfbclient -ltommath -lpthread", "condition": "!config.win32" }
             ]
         },
         "mysql": {
-- 
2.13.2

