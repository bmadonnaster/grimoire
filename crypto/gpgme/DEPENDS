. "${GRIMOIRE}/FUNCTIONS" &&
depends libgpg-error &&
depends pkgconfig    &&
optional_depends GNUPG "" "" "to use GnuPG 2 for CMS (Cryptographic Message Syntax) protocol support" &&

if ! is_depends_enabled $SPELL $(get_spell_provider $SPELL GNUPG); then
  depends gnupg
fi &&

if is_version_less "1.2" "${GPGME_BRANCH}"; then
  depends libassuan
fi &&

case $GPGME_BRANCH in
  1.[7-9] | 1.1[0-2])
    if list_find "$GPG_LANG" qt; then
         depends qtbase &&
	 depends -sub CXX gcc
    fi &&

    if list_find "$GPG_LANG" python; then
       depends swig &&
       depends PYTHON
    fi
#    optional_depends qtbase '' '' 'Qt5 support'
#    optional_depends -sub CXX gcc 'c++ bindings'
#    optional_depends PYTHON '' '' 'Python bindings'
    ;;
  *)
    ;;
esac
