. "${GRIMOIRE}/FUNCTIONS"
source $GRIMOIRE/MESON_FUNCTIONS
           SPELL=mesa
if [[ "${MESA_BRANCH}" == "scm" ]]; then
         VERSION=$(get_scm_version)
          SOURCE="${SPELL}-git.tar.xz"
  FORCE_DOWNLOAD="on"
   SOURCE_URL[0]="git_http://gitlab.freedesktop.org/${SPELL}/${SPELL}.git:${SPELL}-git"
   SOURCE_IGNORE="volatile"
SOURCE_DIRECTORY="${BUILD_DIRECTORY}/${SPELL}-git"
else
         VERSION=20.1.3
     SOURCE_HASH=sha512:c3134cda6a07041c2cacd783663c0618e97f907bb0e67718a5c8fb03f4608ba47f0cd5adb6f0400a44f15fd70f3b41d66da1376035ba4e4f4f97a1843dcb1f77
          SOURCE=mesa-$VERSION.tar.xz
   SOURCE_URL[0]="https://mesa.freedesktop.org/archive/${SOURCE}"
SOURCE_DIRECTORY=${BUILD_DIRECTORY}/mesa-${VERSION}
fi
      LICENSE[0]=GPL
        WEB_SITE=https://www.mesa3d.org/
        KEYWORDS="graphics libs"
         ENTERED=20171020
           SHORT="Mesa implementation of the OpenGL(TM) API"
cat << EOF
this is a complete rewrite of the original mesalib spell, using the meson 
build system

The Mesa project began as an open-source implementation of the OpenGL specification - a 
system for rendering interactive 3D graphics.

Over the years the project has grown to implement more graphics APIs, including OpenGL 
ES (versions 1, 2, 3), OpenCL, OpenMAX, VDPAU, VA API, XvMC and Vulkan.

A variety of device drivers allows the Mesa libraries to be used in many different 
environments ranging from software emulation to complete hardware acceleration for 
modern GPUs.

Mesa ties into several other open-source projects: the Direct Rendering Infrastructure 
and X.org to provide OpenGL support on Linux, FreeBSD and other operating systems.
EOF
