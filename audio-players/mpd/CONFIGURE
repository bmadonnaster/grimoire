. "${GRIMOIRE}/MESON_CONFIGURE"

# remove obsolete options
list_remove MPD_OPTS "--enable-mvp" &&
list_remove MPD_OPTS "--disable-mvp" &&
list_remove MPD_OPTS "--enable-oggflac" &&
list_remove MPD_OPTS "--disable-oggflac" &&

config_query_option MPD_OPTS "Enable IPv6 support?" y \
                             "-Dipv6=true" \
                             "-Dipv6=false" &&

config_query_option MPD_OPTS "Enable writing to a FIFO?" y \
                             "-Dfifo=true" \
                             "-Dfifo=false" &&

config_query_option MPD_OPTS "Enable support for clients connecting via TCP?" y \
                             "-Dtcp=true" \
                             "-Dtcp=false" &&

config_query_option MPD_OPTS "Enable support for clients connecting via unix domain sockets?" y \
                             "-Dlocal_socket=true" \
                             "-Dlocal_socket=false" &&

config_query_option MPD_OPTS "Enable writing to a pipe?" n \
                             "-Dpipe=true" \
                             "-Dpipe=false" &&

config_query_option MPD_OPTS "Enable HTTP server output?" y \
                             "-Dhttpd=true" \
                             "-Dhttpd=false" &&

config_query_option MPD_OPTS "Enable recorder file output plugin?" n \
                             "-Drecorder=true" \
                             "-Drecorder=false" &&

config_query_option MPD_OPTS "Enable DSD file output plugin?" n \
                             "-Ddsd=true" \
                             "-Ddsd=false" &&

config_query_option MPD_OPTS "Enable UPnP client support?" n \
                             "-Dupnp=true" \
                             "-Dupnp=false" &&

config_query_option MPD_OPTS "Enable support for neighbor discovery?" n \
                             "-Dneighbor=true" \
                             "-Dneighbor=false" &&

config_query_option MPD_OPTS "Enable support for CUE sheets?" n \
                             "-Dcue=true" \
                             "-Dcue=false" &&

config_query_option MPD_OPTS "Enable support for Inotify automatic database update?" y \
                             "-Dinotify=true" \
                             "-Dinotify=false"
