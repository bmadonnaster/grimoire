depends -sub CXX gcc &&
depends automake &&
depends autoconf &&
depends zip   &&
depends unzip &&
depends boost &&
depends swig &&
depends yajl &&
depends -sub STL tinyxml1 &&
depends taglib &&
depends MESA &&
depends libmad &&
depends JPEG &&
depends libsamplerate &&
depends libogg &&
depends libvorbis &&
depends freetype2 &&
depends fontconfig &&
depends bzip2 &&
depends sqlite &&
depends libpng &&
depends pcre &&
depends lzo &&
depends libcdio &&
depends enca &&
depends jasper &&
depends libxt &&
depends libxtst &&
depends libxmu &&
depends libxinerama &&
depends curl &&
depends SSL  &&
depends dbus &&
depends fribidi &&
depends gnutls &&
depends JAVA &&
depends rtmpdump &&
depends faad2 &&
depends libmpeg2 &&
depends libass &&
depends flac &&
depends wavpack &&
depends AWK &&
depends gperf &&
depends nasm &&
depends zlib &&
depends libmms &&
depends tiff &&
depends SSL &&
depends libmodplug &&
depends gettext &&
depends libtool &&

# Drop the stable case on next stable release
if [[ "${KODI_BRANCH}" == "stable" ]]; then
  depends cmake &&
  depends libx11 "--enable-x11" &&
  depends glew   "--enable-gl"  &&
  optional_depends libvdpau \
                  "--enable-vdpau" \
                  "--disable-vdpau" \
                  "for VDPAU decoding" &&
  optional_depends libva \
                  "--enable-vaapi" \
                  "--disable-vaapi" \
                  "for VAAPI support" &&
  optional_depends alsa-lib \
                  "--enable-alsa" \
                  "--disable-alsa" \
                  "for ALSA support" &&
  optional_depends lirc \
                  "--enable-lirc" \
                  "--disable-lirc" \
                  "support for IR remote control" &&
  optional_depends MYSQL \
                  "--enable-mysql" \
                  "--disable-mysql" \
                  "for mysql support" &&
  optional_depends hal \
                  "--enable-hal" \
                  "--disable-hal" \
                  "for HAL support" &&
  optional_depends pulseaudio \
                  "--enable-pulse" \
                  "--disable-pulse" \
                  "for PulseAudio support" &&
  optional_depends avahi \
                  "--enable-avahi" \
                  "--disable-avahi" \
                  "for Avahi support" &&
  optional_depends libxrandr \
                  "--enable-xrandr" \
                  "--disable-xrandr" \
                  "for XRandR support" &&
  optional_depends LIBAVCODEC \
                  "--with-ffmpeg=shared" \
                  "--with-ffmpeg=force" \
                  "use system ffmpeg" &&
  optional_depends goom \
                  "--enable-goom" \
                  "--disable-goom" \
                  "for GOOM visualization" &&
  optional_depends faac \
                  "--enable-faac" \
                  "--disable-faac" \
                  "for faac support" &&
  optional_depends libbluray \
                  "--enable-libbluray" \
                  "--disable-libbluray" \
                  "for libbluray support" &&
  optional_depends a52dec \
                  "--enable-external-liba52" \
                  "--disable-external-liba52" \
                  "use system liba52" &&
  optional_depends libdca \
                  "--enable-external-libdts" \
                  "--disable-external-libdts" \
                  "use system libdts" &&
  optional_depends DEVICE-MANAGER \
                  "--enable-udev" \
                  "--disable-udev" \
                  "for udev support" &&
  optional_depends cwiid \
                  "" \
                  "" \
                  "for wiimote support" &&
  optional_depends BLUEZ \
                  "--enable-libbluetooth" \
                  "--disable-libbluetooth" \
                  "for bluetooth support" &&
  optional_depends samba \
                  "--enable-samba" \
                  "--disable-samba" \
                  "for samba support" &&
  optional_depends libmicrohttpd \
                  "--enable-webserver" \
                  "--disable-webserver" \
                  "for webserver support" &&
  optional_depends libssh \
                  "--enable-ssh" \
                  "-disable-ssh" \
                  "for SFTP support" &&
  optional_depends libusb \
                  "--enable-libusb" \
                  "--disable-libusb" \
                  "for libusb support" &&
  optional_depends libcec \
                  "--enable-libcec" \
                  "--disable-libcec" \
                  "for TV remote control support via HDMI" &&
  optional_depends lcms2 \
                  "--enable-lcms2" \
                  "--disable-lcms2" \
                  "for color managment support"
  optional_depends libcap \
                  "--enable-libcap" \
                  "--disable-libcap" \
                  "for libcap support" &&
  depends crossguid
else
  source "${GRIMOIRE}/CMAKE_DEPENDS" &&
  depends glew &&
  depends libx11 "-DENABLE_X11=ON" &&
  depends crossguid "-DENABLE_INTERNAL_CROSSGUID=OFF" &&
  depends flatbuffers &&
  depends fmt &&
  depends fstrcmp &&
  depends rapidjson &&
  optional_depends alsa-lib "" "" "for ALSA support" &&
  optional_depends libvdpau "-DENABLE_VDPAU=ON" "-DENABLE_VDPAU=OFF" \
                  "for VDPAU decoding" &&
  optional_depends libva "-DENABLE_VAAPI=ON" "-DENABLE_VAAPI=OFF" \
                  "for VAAPI support" &&
  optional_depends lirc "-DENABLE_LIRC=ON" "-DENABLE_LIRC=OFF" \
                  "support for IR remote control" &&
  optional_depends MYSQL "" "" "for mysql support" &&
  optional_depends pulseaudio "" "" "for PulseAudio support" &&
  optional_depends avahi "" "" "for Avahi support" &&
  optional_depends libxrandr "" "" "for XRandR support" &&
  optional_depends LIBAVCODEC "-DENABLE_INTERNAL_FFMPEG=OFF" \
                              "-DENABLE_INTERNAL_FFMPEG=ON" \
                              "use system ffmpeg" &&
  optional_depends libbluray "" "" "for libbluray support" &&
  optional_depends libdvdcss "-DENABLE_DVDCSS=ON" "-DENABLE_DVDCSS=OFF" \
                  "for libdvdcss support" &&
  optional_depends DEVICE-MANAGER "" "" "for udev support" &&
  optional_depends BLUEZ "" "" "for bluetooth support" &&
  optional_depends samba "" "" "for samba support" &&
  optional_depends libmicrohttpd "" "" "for webserver support" &&
  optional_depends libssh "" "" "for SFTP support" &&
  optional_depends libusb "" "" "for libusb support" &&
  optional_depends libcec "" "" "for TV remote control support via HDMI" &&
  optional_depends lcms2 "" "" "for color managment support"
  optional_depends libcap "" "" "for libcap support"
fi
