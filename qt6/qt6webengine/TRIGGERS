on_cast snappy check_self
