. "${GRIMOIRE}/MESON_DEPENDS" &&
depends libpciaccess &&

optional_depends DEVICE-MANAGER \
                'udev=true' \
                'udev=false' \
                'support for using udev instead of mknod' &&
if [[ "${LIBDRM_BRANCH}" == "scm" ]]; then
  optional_depends valgrind \
                  'valgrind=enabled' \
                  'valgrind=disabled' \
                  'detect leaks' &&
  optional_depends cairo \
                  'cairo-tests=enabled' \
                  'cairo-tests=disabled' \
                  'use Cairo in tests' &&
  optional_depends docutils \
                  'man-pages=enabled' \
                  'man-pages=disabled' \
                  'build man pages'
else
    # remove on next release
  optional_depends valgrind \
                  'valgrind=true' \
                  'valgrind=false' \
                  'detect leaks' &&
  optional_depends cairo \
                  'cairo-tests=true' \
                  'cairo-tests=false' \
                  'use Cairo in tests' &&
  optional_depends docutils \
                  'man-pages=true' \
                  'man-pages=false' \
                  'build man pages'
fi
